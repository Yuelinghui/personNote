# Python基础教程

## 通过命令提示符运行Python脚本

使用Shell提示符，在mac上运行 `python xxx.py`文件就可以。

有时候希望像运行其它程序一样运行Python程序，而不需要显式使用Python解释器。在UNIX中有个标准的实现方法：**在脚本首行前面加上#!（叫做pound bang或者shebang）**，在其后加上解释脚本的程序的绝对路径。

`#!/user/bin/env python`

## 注释

`#`在Python中有些特殊。在代码中输入它的时候，它右边的一切都会被忽略。

为了让别人能够更容易理解程序，使用注释是非常有效的。

## 字符串

### 单引号字符串和转义引号

当python打印出字符串的时候，是用单引号括起来的，但我们在程序中用的是双引号。*这没有区别*。

使用单引号也可以，为什么两个都可以用呢？因为在某些情况下，它会派上用场：

```
-> "Let's go!"
-> '"Hello,world!" she said'
```

第一段字符串包含了单引号，这个时候就不能用单引号将整个字符串括起来了。

第二个字符串中，句子包含了双引号。所以，出于之前所述的原因，就需要用单引号把字符串括起来。

或者使用*反斜线`\`*对字符串中的引号进行转义：`Let\'s go!`。

双引号也可以使用相同的方式转义：`"\"Hello world\" she said"。`

### 拼接字符串

`"Let's say" '"Hello, world"'`。用一个接着另一个的方式写两个字符串，python就会自动拼接它们。

对于变量来说，需要使用*加法运算*。

```
-> x = "Hello"
-> y = "world"
-> x + y
'Hello world'
```

### 字符串表示，str和repr

所有通过python打印的字符串还是被引号括起来的，因为python打印值的时候会保持该值在python代码中的状态，而不是希望用户看到的状态。若使用print语句，结果就不一样了：

```
-> "Hello world"
'Hello world'
-> print "Hello world"
Hello world
```

这实际上是值被转换为字符串的两种机制：

* 通过str函数，它会把值转换为合理形式的字符串，以便用户可以理解
* repr函数会创建一个字符串，它以合法的Python表达式的形式来表示值

```
-> print repr("Hello world")
'Hello world'

-> print str("Hello world")
Hello world
```
repr(x)的功能也可以用\`x\`实现(注意，\`是反引号，而不是单引号)。若希望打印一个包含数字的句子，那么反引号就很有用了：

```
-> temp = 42
-> print "The temperature is" + `temp`
The temperature is 42
```

*在Python 3.0中，已经不再使用反引号了。因此，即使在旧代码中看到了反引号，也应该坚持使用repr*

str，repr和反引号是将Python值转换为字符串的3中方法。函数str让字符串更易于阅读，而repr（和反引号）则把结果字符串转换为合法的Python表达式。

### input和raw_input的比较

```
name = input("What is your name?")
print "Hello," + name + "!"
```

这是一个完全合法的程序，但是也会出现问题：尝试运行程序：

```
-> What is your name? Gumby
出错：NameError
```

input会假设用户输入的是合法的Python表达式（或多或少有些与repr函数相反的意思）。若字符串作为输入的名字，程序是没有问题的：

```
-> What is your name? "Gumby"
-> Hello,Gumby!
```

然而，要求用户带着引号输入他们的名字有点过分，因此，需要使用raw_input函数，*它会把所有的输入当作原始数据（raw data），然后将其放入字符串中*。

**除非对input有特别的需要，否则应该尽可能使用raw_input函数**。

### 长字符串，原始字符串和Unicode

* 长字符串

若需要写一个非常非常长的字符串，它需要跨多行，可以使用三个引号代替普通引号，也可以使用三个双引号：如“““Like This”””。

这种与众不同的引用方式，可以在字符串之中同时使用单引号和双引号，而不需要使用反斜线进行转义。

* 原始字符串

原始字符串对于反斜线的使用并不会过分挑剔。在某些情况下，这个特性就能派上用场。在普通字符串中，反斜线有特殊的作用：*它会转义*，可以在字符串中加入通常情况下不能直接加入的内容

比如一个路径：“C:\nowhere”，打印字符串的时候会发现问题：反斜线和后面的n被转义成了换行，这并不是期望的结果，我们可以使用反斜线对其本身进行转义："C:\\\\nowhere"，但是对于长路径来说，可能需要很多反斜线。

在这样的情况下，原始字符串就派上用场了。*原始字符串不会把反斜线当作特殊字符。在原始字符串中输入的每个字符都会与书写的方式保持一致*：

```
-> print r'C:\nowhere'
C:\nowhere
```

原始字符串以`r`开头。

*不能在原始字符串结尾输入反斜线*。原始字符串最后的一个字符不能是反斜线，除非对反斜线进行转义。

可以在原始字符串中同时使用单双引号，即使三引号字符串也可以充当原始字符串。

* Unicode字符串

字符串常量的最后一种类型就是Unicode字符串（或者称为Unicode对象——与字符串并不是同一个类型）。

Python中的普通字符串在内部是以8位的ASCII码形成存储的，而Unicode字符串则存储为16位Unicode字符，这样就能表示更多的字符集。

Unicode字符串使用`u`前缀，就像原始字符串使用`r`一样。

## 列表和元组

Python包含6种内建的序列，重点讨论：列表和元组。

列表和元组的主要区别在于：*列表可以修改，元组不能修改*。若要根据要求来添加元素，那么列表可能会更好用；而出于某些原因，序列不能修改的时候，使用元组则更为合适。

使用元组的理由通常是技术性的，它与Python内部的运作方式有关。这也是内建函数可能返回元组的原因。一般来说，在几乎所有的情况下列表都可以替代元组（使用元组作为字典的键时例外，因为键不可修改）

在需要操作一组数值的时候，序列很好用。可以用序列表示数据库中一个人的信息——第一个元素是姓名，第二个元素是年龄：

```
-> edward = ['Gumby',30]
```

同时，序列也可以包含其他的序列
