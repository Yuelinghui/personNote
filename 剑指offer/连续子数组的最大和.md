# 连续子数组的最大和

![](/剑指offer/assets/连续子数组的最大和_题目.png)

![](/剑指offer/assets/连续子数组的最大和_代码.png)

我们可以用动态规划来分析这个问题，若用函数f(i)来表示第i个数字结尾的子数组的最大和，那么我们需要求出max[f(i)]，其中 0 <= i < n，我们可用如下递归公式求f(i)：

```
     / pData[i]         i=0或者f(i-1) <= 0
f(i)
     \f(i-1)+pData[i]   i≠0并且f(i-1) > 0
```

当以第i-1个数字结尾的子数组中所有数字的和小于0时，若把这个负数与第i个数累加，得到的结果比第i个数字本身还要小，所以这种情况下以第i个数字结尾的子数组就是第i个数字本身。若以第i-1个数字结尾的子数组中所有数字的和大于0，与第i个数字累加得到以第i个数字结尾的子数组中所有数字的和。